<!DOCTYPE html>
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Marker Clustering</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
      <script src="Scripts/jquery-1.10.2.intellisense.js"></script>

      <div id="auto"></div>
      <script type="text/javascript" src="Scripts/jquery-1.10.2.min.js"></script>
      <script type="text/javascript">
          $(document).ready();
          $('#map').fadeOut('slow').load(load.php)
          function refresh() {
              setTimeout(function () {
                  $('#map').fadeOut('slow').load(HtmlPage1.html).fadeIn('slow');
                  refresh();
              }, 200);
          }

      </script>


      <style>
          #map {
              height: 500px;
          }
      </style>
      <br /><br />

      <div class=" container">
          <div id="map"> </div>

          <script>


              var map;
              function initMap() {
                  map = new google.maps.Map(document.getElementById('map'), {
                      center: { lat: 20.593684, lng: 78.962880 },
                      zoom: 2
                  });



                  setInterval("$('#map').load('/Home/Index')", 10000);
                  $.get("@Url.Action("GetAllLocation","Home")", function (data) {

                      var contentString = [];
                      var contentString = [];
                      var infowindow = [];
                      var marker = [];
                      //For Dhaka U

                      for (var i = 0; i < data.length; i++) {

                          marker[i] = new google.maps.Marker({
                              position: { lat: parseFloat(data[i].Lat), lng: parseFloat(data[i].Long) },

                              map: map

                          });


                          contentString[i] = '<div id="content">' +
                              '<div id="siteNotice">' +
                              '</div>' +
                              '<h1 id="firstHeading" class="firstHeading">' + data[i].Address + '</h1>' +
                              '<div id="bodyContent">' +
                              '<p><b>' + data[i].Address + '</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
                              'sandstone rock formation in the southern part of the ' +
                              'Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) ' +
                              'south west of the nearest large town, Alice Springs; 450&#160;km ';
                          infowindow[i] = new google.maps.InfoWindow({
                              content: contentString[i]
                          });
                          var markervalue = marker[i];
                          google.maps.event.addListener(marker[i], 'mouseover', (function (markervalue, i) {
                              return function () {
                                  infowindow[i].open(map, marker[i]);
                              }
                          })(marker[i], i));

                          google.maps.event.addListener(marker[i], 'mouseout', (function (markervalue, i) {
                              return function () {
                                  infowindow[i].close();
                              }
                          })(marker[i], i));

                      }
                  })

              }

          </script>

          <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJOZd-P3bAJXBAYtfryQT_GTv61uRehMs&callback=initMap" data-turbolinks-eval="false"></script>
      </div>
  </body>
</html>